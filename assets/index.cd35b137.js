var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,i)=>{for(var l in i||(i={}))a.call(i,l)&&o(e,l,i[l]);if(t)for(var l of t(i))r.call(i,l)&&o(e,l,i[l]);return e};import{c as l,a as u,l as s,_ as n,d as p,u as c,b as d,r as b,p as g,e as m,f as h,g as w,t as v,w as T,v as f,h as S,i as y,j as M,o as C,k as O,m as k,n as x,F as A,q as D,s as U}from"./vendor.cb42c013.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P=new Worker("./worker.js"),Q={autobrewer:{price:10,increaseRate:1.01}},N={autobrewer:{outputMultiplier:2,costMultiplier:5,nextUpgradeCost:100}},$=()=>({lastSaveAt:null,lastNotableTickAt:null,tick:0,cupsOfTea:0,teaPerTick:0,purchases:{autobrewer:{count:0,price:Q.autobrewer.price,increaseRate:Q.autobrewer.increaseRate}},upgrades:{autobrewer:{level:0,currentOutputMultiplier:1,outputMultiplier:N.autobrewer.outputMultiplier,costMultiplier:N.autobrewer.costMultiplier,nextUpgradeCost:N.autobrewer.nextUpgradeCost}},debugMode:!1}),z=l({plugins:[u({key:"teaShopSave",filter:e=>"triggerSave"===e.type})],state:()=>$(),mutations:{tick(e){e.tick+=1},brewTea(e,t=1){e.cupsOfTea+=t},consumeTea(e,t=1){e.cupsOfTea-=t},buyAutobrewer(e,t=1){e.purchases.autobrewer.count+=t},increasePrice(e,t){null===t.amount&&(t.amount=1),e.purchases[t.purchasable].price*=Math.pow(e.purchases[t.purchasable].increaseRate,t.amount)},setLastNotableTickAt(e,t){e.lastNotableTickAt=t.datetime},upgradeUpgradable(e,t){e.upgrades[t.upgradable].level+=1,e.upgrades[t.upgradable].currentOutputMultiplier*=e.upgrades[t.upgradable].outputMultiplier,e.upgrades[t.upgradable].nextUpgradeCost*=e.upgrades[t.upgradable].costMultiplier},triggerSave(e){e.lastSaveAt=Date.now()},hardReset(e){null!==localStorage.getItem("teaShopSave")&&localStorage.removeItem("teaShopSave"),z.replaceState($())},toggleDebugMode(e){e.debugMode=!e.debugMode},recalculateTeaPerTick(e){e.teaPerTick=e.purchases.autobrewer.count*e.upgrades.autobrewer.currentOutputMultiplier/5}},actions:{async startup(e){P.postMessage({name:"startup",tick_rate:200})},async tick(e){P.postMessage({name:"tick",state:s.exports.cloneDeep(e.state),ticks_per_second:5})},brewTea(e){e.commit("brewTea")},upgradeUpgradable(e,{upgradable:t}){e.commit("consumeTea",e.state.upgrades[t].nextUpgradeCost),e.commit("upgradeUpgradable",{upgradable:t}),e.commit("recalculateTeaPerTick")},buyAutobrewer(e,{amount:t}){let a=e.state.purchases.autobrewer.increaseRate,r=e.state.purchases.autobrewer.price*(1-Math.pow(a,t))/(1-a);e.commit("consumeTea",r),e.commit("increasePrice",{purchasable:"autobrewer",amount:t}),e.commit("buyAutobrewer",t),e.commit("recalculateTeaPerTick")},autobrew(e){e.commit("brewTea",e.state.teaPerTick)}}});P.onmessage=e=>{"mutation"===e.data.type?void 0===e.data.payload?z.commit(e.data.method):z.commit(e.data.method,e.data.payload):"action"===e.data.type&&(void 0===e.data.payload?z.dispatch(e.data.method):z.dispatch(e.data.method,e.data.payload))};const R=["","Thousand","Million","Billion","Trillion","Quadrillion","Quintillion","Sextillion","Septillion","Octillion","Nonillion","Decillion","Undecillion","Duodecillion","Tredecillion","Quattuordecillion","Quindecillion","Sexdecillion","Septendecillion","Octodecillion","Novemdecillion","Vigintillion","Unvigintillion","Duovigintillion","Tresvigintillion","Quattuorvigintillion","Quinvigintillion","Sesvigintillion","Septemvigintillion","Octovigintillion","Novemvigintillion","Trigintillion","Untrigintillion","Duotrigintillion","Trestrigintillion","Quattuortrigintillion","Quintrigintillion","Sestrigintillion","Septentrigintillion","Octotrigintillion","Noventrigintillion"],I=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QiDc","SxDc","SpDc","ODc","NDc","Vi","UVi","DVi","TVi","QaVi","QiVi","SxVi","SpVi","OVi","NVi","Tg","UTg","DTg","TTg","QaTg","QiTg","SxTg","SpTg","OTg","NTg"],V={short:!1,lowercase:!1};var G=p({name:"Options",setup(e,t){const a=c(),r=d((()=>a.state.lastSaveAt)),o=d((()=>a.state.debugMode)),i=b("Export Save (copies to clipboard)"),l=b(!1),u=()=>{l.value=!l.value},s=b("");return{hardResetGame:()=>{confirm("This will permanently erase ALL your progress, nothing will be persisted. Are you absolutely sure you want to reset your game?")&&a.commit("hardReset")},lastSaveAt:r,debugMode:o,toggleDebugMode:()=>a.commit("toggleDebugMode"),importSave:()=>{u();try{let e=JSON.parse(atob(s.value));a.replaceState(e),s.value=""}catch(e){alert("There was an error with the imported save data. Are you sure you have a valid save?")}},importedSaveText:s,toggleImportTextArea:u,importToggled:l,exportButtonText:i,exportSave:()=>{let e=localStorage.getItem("teaShopSave");null!==e&&navigator.clipboard.writeText(btoa(e)).then((()=>{i.value="Copied!",setTimeout((()=>{i.value="Export Save (copies to clipboard)"}),2e3)}))},saveGame:()=>a.commit("triggerSave")}}});g("data-v-3875dae5");const _=w("h4",null,"Options",-1),j={class:"buttons"},B={class:"import-text-area-container"},L=["disabled"],E=w("p",null,[M("Game by Connor Shea | "),w("a",{href:"https://github.com/connorshea/teashop"},"GitHub")],-1);m(),G.render=function(e,t,a,r,o,i){return C(),h("div",null,[_,w("div",j,[w("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.saveGame&&e.saveGame(...t))}," Save Game "),w("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.toggleImportTextArea&&e.toggleImportTextArea(...t))},v(e.importToggled?"Close Import Field":"Import Save"),1),T(w("div",B,[T(w("textarea",{placeholder:"Paste save game data here and hit Enter",onKeypress:t[2]||(t[2]=S(((...t)=>e.importSave&&e.importSave(...t)),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=t=>e.importedSaveText=t)},null,544),[[y,e.importedSaveText]])],512),[[f,e.importToggled]]),w("button",{type:"button",disabled:null===e.lastSaveAt,onClick:t[4]||(t[4]=(...t)=>e.exportSave&&e.exportSave(...t))},v(e.exportButtonText),9,L),w("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.hardResetGame&&e.hardResetGame(...t))}," Hard Reset "),w("button",{type:"button",onClick:t[6]||(t[6]=(...t)=>e.toggleDebugMode&&e.toggleDebugMode(...t))},v(!0===e.debugMode?"Disable Debug Mode":"Enable Debug Mode"),1)]),E])},G.__scopeId="data-v-3875dae5";var K=p({name:"TeaShop",components:{Options:G},setup(e,t){const a=c(),r=d((()=>a.state.cupsOfTea)),o=d((()=>Math.round(5*a.state.teaPerTick))),i=d((()=>Math.round(a.state.cupsOfTea))),l=d((()=>a.state.purchases.autobrewer.count)),u=d((()=>a.state.purchases.autobrewer.price)),s=d((()=>e=>Math.round(u.value*((1-Math.pow(a.state.purchases.autobrewer.increaseRate,e))/(1-a.state.purchases.autobrewer.increaseRate))))),n=d((()=>a.state.upgrades.autobrewer.nextUpgradeCost));return a.dispatch("startup"),{cupsOfTea:r,teaPerSecond:o,roundedCupsOfTea:i,autobrewerCount:l,autobrewerCost:u,multipleAutobrewerCost:s,autobrewerUpgradeCost:n,brewTea:()=>a.dispatch("brewTea"),buyAutobrewer:e=>a.dispatch("buyAutobrewer",{amount:e}),upgradeAutobrewer:()=>a.dispatch("upgradeUpgradable",{upgradable:"autobrewer"})}}});g("data-v-28d9af42");const q=w("h1",null,"Tea Shop",-1),F={key:0},H={class:"buttons"},J=["disabled"],W=["disabled"],X=w("br",null,null,-1),Y=w("h4",null,"Upgrades",-1),Z={class:"buttons"},ee=["disabled"],te=w("br",null,null,-1),ae=w("br",null,null,-1);m(),K.render=function(e,t,a,r,o,i){const l=O("Options");return C(),h(A,null,[q,w("p",null,v(e.$filters.humanize(e.roundedCupsOfTea,{short:!0}))+" "+v(e.$filters.pluralize(e.roundedCupsOfTea,"Cup"))+" of Tea",1),w("p",null,"("+v(e.$filters.humanize(e.teaPerSecond,{short:!0}))+" "+v(e.$filters.pluralize(e.teaPerSecond,"cup"))+"/sec)",1),e.autobrewerCount>0?(C(),h("p",F,v(e.autobrewerCount)+" "+v(e.$filters.pluralize(e.autobrewerCount,"Autobrewer")),1)):k("",!0),w("div",H,[w("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.brewTea&&e.brewTea(...t))}," Brew a cup of tea "),w("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.autobrewerCost),onClick:t[1]||(t[1]=t=>e.buyAutobrewer(1))}," Buy an autobrewer ("+v(e.$filters.humanize(Math.round(e.autobrewerCost),{short:!0}))+" "+v(e.$filters.pluralize(e.autobrewerCost,"cup"))+") ",9,J),w("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.multipleAutobrewerCost(10)),onClick:t[2]||(t[2]=t=>e.buyAutobrewer(10))}," Buy 10 autobrewers ("+v(e.$filters.humanize(e.multipleAutobrewerCost(10),{short:!0}))+" "+v(e.$filters.pluralize(e.multipleAutobrewerCost(10),"cup"))+") ",9,W)]),X,w("div",null,[Y,w("div",Z,[w("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.autobrewerUpgradeCost),onClick:t[3]||(t[3]=(...t)=>e.upgradeAutobrewer&&e.upgradeAutobrewer(...t))}," Upgrade autobrewers ("+v(e.$filters.humanize(e.autobrewerUpgradeCost,{short:!0}))+" "+v(e.$filters.pluralize(e.autobrewerUpgradeCost,"cup"))+") ",9,ee)])]),te,ae,x(l)],64)},K.__scopeId="data-v-28d9af42";var re=p({name:"App",components:{TeaShop:K}});re.render=function(e,t,a,r,o,i){const l=O("TeaShop");return C(),D(l)};const oe=U(re);oe.use(z),oe.config.globalProperties.$filters={},oe.config.globalProperties.$filters.pluralize=(e,t,a=null)=>(null===a&&(a=`${t}s`),e>1||0===e?a:t),oe.config.globalProperties.$filters.humanize=(e,t)=>{const a=t?i(i({},V),t):V,r=a.short?I:R;return n(e,{precision:2,units:r,lowercase:a.lowercase,space:!a.short})},oe.mount("#app");
