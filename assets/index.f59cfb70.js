var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,i=(e,i)=>{for(var l in i||(i={}))r.call(i,l)&&o(e,l,i[l]);if(t)for(var l of t(i))a.call(i,l)&&o(e,l,i[l]);return e};import{c as l,a as u,_ as s,d as n,u as c,b as p,r as d,p as b,e as g,f as m,g as v,t as w,w as T,v as h,h as f,i as S,o as y,j as M,k as C,l as O,F as k,m as A,n as x}from"./vendor.f530614f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D={autobrewer:{price:10,increaseRate:1.01}},U={autobrewer:{outputMultiplier:2,costMultiplier:5,nextUpgradeCost:100}},P=()=>({lastSaveAt:null,lastNotableTickAt:null,tick:0,cupsOfTea:0,teaPerTick:0,purchases:{autobrewer:{count:0,price:D.autobrewer.price,increaseRate:D.autobrewer.increaseRate}},upgrades:{autobrewer:{level:0,currentOutputMultiplier:1,outputMultiplier:U.autobrewer.outputMultiplier,costMultiplier:U.autobrewer.costMultiplier,nextUpgradeCost:U.autobrewer.nextUpgradeCost}},debugMode:!1}),$=l({plugins:[u({key:"teaShopSave",filter:e=>"triggerSave"===e.type})],state:()=>P(),mutations:{tick(e){e.tick+=1},brewTea(e,t=1){e.cupsOfTea+=t},consumeTea(e,t=1){e.cupsOfTea-=t},buyAutobrewer(e,t=1){e.purchases.autobrewer.count+=t},increasePrice(e,t){null===t.amount&&(t.amount=1),e.purchases[t.purchasable].price*=Math.pow(e.purchases[t.purchasable].increaseRate,t.amount)},upgradeUpgradable(e,t){e.upgrades[t.upgradable].level+=1,e.upgrades[t.upgradable].currentOutputMultiplier*=e.upgrades[t.upgradable].outputMultiplier,e.upgrades[t.upgradable].nextUpgradeCost*=e.upgrades[t.upgradable].costMultiplier},triggerSave(e){e.lastSaveAt=Date.now()},hardReset(e){null!==localStorage.getItem("teaShopSave")&&localStorage.removeItem("teaShopSave"),$.replaceState(P())},toggleDebugMode(e){e.debugMode=!e.debugMode},recalculateTeaPerTick(e){e.teaPerTick=e.purchases.autobrewer.count*e.upgrades.autobrewer.currentOutputMultiplier/5}},actions:{tick(e){if(e.state.tick%5==0){let t=Date.now();e.state.debugMode&&null!==e.state.lastNotableTickAt&&(console.log(t-e.state.lastNotableTickAt+"ms since last notable tick."),console.log(`${e.state.cupsOfTea} cups of tea`)),e.state.lastNotableTickAt=t}e.commit("tick"),e.dispatch("autobrew"),e.state.tick%150==0&&e.commit("triggerSave")},brewTea(e){e.commit("brewTea")},upgradeUpgradable(e,{upgradable:t}){e.commit("consumeTea",e.state.upgrades[t].nextUpgradeCost),e.commit("upgradeUpgradable",{upgradable:t}),e.commit("recalculateTeaPerTick")},buyAutobrewer(e,{amount:t}){let r=e.state.purchases.autobrewer.increaseRate,a=e.state.purchases.autobrewer.price*(1-Math.pow(r,t))/(1-r);e.commit("consumeTea",a),e.commit("increasePrice",{purchasable:"autobrewer",amount:t}),e.commit("buyAutobrewer",t),e.commit("recalculateTeaPerTick")},autobrew(e){e.commit("brewTea",e.state.teaPerTick)}}}),N=["","Thousand","Million","Billion","Trillion","Quadrillion","Quintillion","Sextillion","Septillion","Octillion","Nonillion","Decillion","Undecillion","Duodecillion","Tredecillion","Quattuordecillion","Quindecillion","Sexdecillion","Septendecillion","Octodecillion","Novemdecillion","Vigintillion","Unvigintillion","Duovigintillion","Tresvigintillion","Quattuorvigintillion","Quinvigintillion","Sesvigintillion","Septemvigintillion","Octovigintillion","Novemvigintillion","Trigintillion","Untrigintillion","Duotrigintillion","Trestrigintillion","Quattuortrigintillion","Quintrigintillion","Sestrigintillion","Septentrigintillion","Octotrigintillion","Noventrigintillion"],Q=["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QiDc","SxDc","SpDc","ODc","NDc","Vi","UVi","DVi","TVi","QaVi","QiVi","SxVi","SpVi","OVi","NVi","Tg","UTg","DTg","TTg","QaTg","QiTg","SxTg","SpTg","OTg","NTg"],z={short:!1,lowercase:!1};var I=n({name:"Options",setup(e,t){const r=c(),a=p((()=>r.state.lastSaveAt)),o=p((()=>r.state.debugMode)),i=d("Export Save (copies to clipboard)"),l=d(!1),u=()=>{l.value=!l.value},s=d("");return{hardResetGame:()=>{confirm("This will permanently erase ALL your progress, nothing will be persisted. Are you absolutely sure you want to reset your game?")&&r.commit("hardReset")},lastSaveAt:a,debugMode:o,toggleDebugMode:()=>r.commit("toggleDebugMode"),importSave:()=>{u();try{let e=JSON.parse(atob(s.value));r.replaceState(e),s.value=""}catch(e){alert("There was an error with the imported save data. Are you sure you have a valid save?")}},importedSaveText:s,toggleImportTextArea:u,importToggled:l,exportButtonText:i,exportSave:()=>{let e=localStorage.getItem("teaShopSave");null!==e&&navigator.clipboard.writeText(btoa(e)).then((()=>{i.value="Copied!",setTimeout((()=>{i.value="Export Save (copies to clipboard)"}),2e3)}))},saveGame:()=>r.commit("triggerSave")}}});b("data-v-6f1e88c8");const R=v("h4",null,"Options",-1),V={class:"buttons"},B={class:"import-text-area-container"},G=["disabled"];g(),I.render=function(e,t,r,a,o,i){return y(),m("div",null,[R,v("div",V,[v("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.saveGame&&e.saveGame(...t))}," Save Game "),v("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.toggleImportTextArea&&e.toggleImportTextArea(...t))},w(e.importToggled?"Close Import Field":"Import Save"),1),T(v("div",B,[T(v("textarea",{placeholder:"Paste save game data here and hit Enter",onKeypress:t[2]||(t[2]=f(((...t)=>e.importSave&&e.importSave(...t)),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=t=>e.importedSaveText=t)},null,544),[[S,e.importedSaveText]])],512),[[h,e.importToggled]]),v("button",{type:"button",disabled:null===e.lastSaveAt,onClick:t[4]||(t[4]=(...t)=>e.exportSave&&e.exportSave(...t))},w(e.exportButtonText),9,G),v("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.hardResetGame&&e.hardResetGame(...t))}," Hard Reset "),v("button",{type:"button",onClick:t[6]||(t[6]=(...t)=>e.toggleDebugMode&&e.toggleDebugMode(...t))},w(!0===e.debugMode?"Disable Debug Mode":"Enable Debug Mode"),1)])])},I.__scopeId="data-v-6f1e88c8";var j=n({name:"TeaShop",components:{Options:I},setup(e,t){const r=c(),a=p((()=>r.state.cupsOfTea)),o=p((()=>Math.round(5*r.state.teaPerTick))),i=p((()=>Math.round(r.state.cupsOfTea))),l=p((()=>r.state.purchases.autobrewer.count)),u=p((()=>r.state.purchases.autobrewer.price)),s=p((()=>e=>Math.round(u.value*((1-Math.pow(r.state.purchases.autobrewer.increaseRate,e))/(1-r.state.purchases.autobrewer.increaseRate))))),n=p((()=>r.state.upgrades.autobrewer.nextUpgradeCost));return setInterval((()=>{r.state.debugMode&&console.log(`${a.value} cups of tea, ${i.value} rounded cups of tea`),r.dispatch("tick")}),200),{cupsOfTea:a,teaPerSecond:o,roundedCupsOfTea:i,autobrewerCount:l,autobrewerCost:u,multipleAutobrewerCost:s,autobrewerUpgradeCost:n,brewTea:()=>r.dispatch("brewTea"),buyAutobrewer:e=>r.dispatch("buyAutobrewer",{amount:e}),upgradeAutobrewer:()=>r.dispatch("upgradeUpgradable",{upgradable:"autobrewer"})}}});b("data-v-22636d12");const E=v("h1",null,"Tea Shop",-1),L={key:0},_={class:"buttons"},K=["disabled"],F=["disabled"],q=v("br",null,null,-1),H=v("h4",null,"Upgrades",-1),J={class:"buttons"},W=["disabled"],X=v("br",null,null,-1),Y=v("br",null,null,-1);g(),j.render=function(e,t,r,a,o,i){const l=M("Options");return y(),m(k,null,[E,v("p",null,w(e.$filters.humanize(e.roundedCupsOfTea,{short:!0}))+" "+w(e.$filters.pluralize(e.roundedCupsOfTea,"Cup"))+" of Tea",1),v("p",null,"("+w(e.$filters.humanize(e.teaPerSecond,{short:!0}))+" "+w(e.$filters.pluralize(e.teaPerSecond,"cup"))+"/sec)",1),e.autobrewerCount>0?(y(),m("p",L,w(e.autobrewerCount)+" "+w(e.$filters.pluralize(e.autobrewerCount,"Autobrewer")),1)):C("",!0),v("div",_,[v("button",{type:"button",onClick:t[0]||(t[0]=(...t)=>e.brewTea&&e.brewTea(...t))}," Brew a cup of tea "),v("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.autobrewerCost),onClick:t[1]||(t[1]=t=>e.buyAutobrewer(1))}," Buy an autobrewer ("+w(e.$filters.humanize(Math.round(e.autobrewerCost),{short:!0}))+" "+w(e.$filters.pluralize(e.autobrewerCost,"cup"))+") ",9,K),v("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.multipleAutobrewerCost(10)),onClick:t[2]||(t[2]=t=>e.buyAutobrewer(10))}," Buy 10 autobrewers ("+w(e.$filters.humanize(e.multipleAutobrewerCost(10),{short:!0}))+" "+w(e.$filters.pluralize(e.multipleAutobrewerCost(10),"cup"))+") ",9,F)]),q,v("div",null,[H,v("div",J,[v("button",{type:"button",disabled:e.cupsOfTea<Math.ceil(e.autobrewerUpgradeCost),onClick:t[3]||(t[3]=(...t)=>e.upgradeAutobrewer&&e.upgradeAutobrewer(...t))}," Upgrade autobrewers ("+w(e.$filters.humanize(e.autobrewerUpgradeCost,{short:!0}))+" "+w(e.$filters.pluralize(e.autobrewerUpgradeCost,"cup"))+") ",9,W)])]),X,Y,O(l)],64)},j.__scopeId="data-v-22636d12";var Z=n({name:"App",components:{TeaShop:j}});Z.render=function(e,t,r,a,o,i){const l=M("TeaShop");return y(),A(l)};const ee=x(Z);ee.use($),ee.config.globalProperties.$filters={},ee.config.globalProperties.$filters.pluralize=(e,t,r=null)=>(null===r&&(r=`${t}s`),e>1||0===e?r:t),ee.config.globalProperties.$filters.humanize=(e,t)=>{const r=t?i(i({},z),t):z,a=r.short?Q:N;return s(e,{precision:2,units:a,lowercase:r.lowercase,space:!r.short})},ee.mount("#app");
